{% extends 'base.html' %}
{% block title %}Order Details{% endblock title %}
{% block content %}

<h1>Order update</h1>

{% endblock content %}
{% block body %}
<div class="container mt-5">
    <h2>Order #{{ order.id }}</h2>
    <p><strong>Shipping Address:</strong> {{ order.address }}</p>
    <p><strong>Phone:</strong> {{ order.phone }}</p>
    <p><strong>Total Amount:</strong> ${{ order.order_total }}</p>

    <h4>Order Updates</h4>
    <ul class="list-group mb-4">
        {% for update in updates %}
            <li class="list-group-item">
                <strong>{{ update.timestamp|date:"F j, Y, g:i a" }}</strong> - {{ update.update_desc }}
            </li>
        {% empty %}
            <li class="list-group-item">No updates available for this order.</li>
        {% endfor %}
    </ul>

    <h4>Add Update</h4>
    <form method="POST">
        {% csrf_token %}
        <div class="form-group">
            <textarea name="update_desc" class="form-control" rows="3" placeholder="Enter update"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Submit Update</button>
    </form>
</div>
{% endblock body %}
